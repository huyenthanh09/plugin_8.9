import { __read, __spread } from "tslib";
// (C) 2021 GoodData Corporation
import React, { useMemo } from "react";
import { useIntl } from "react-intl";
import { ConfirmDialogBase } from "../../ConfirmDialogBase";
import { ContentDivider } from "./ContentDivider";
import { ShareGranteeContent } from "./ShareGranteeContent";
import { SharedObjectUnderLenientControl } from "./SharedObjectUnderLenientControl";
import { SharedObjectLockControl } from "./SharedObjectLockControl";
/**
 * @internal
 */
export var ShareGranteeBase = function (props) {
    var isLoading = props.isLoading, isLockedNow = props.isLockedNow, isUnderLenientControlNow = props.isUnderLenientControlNow, grantees = props.grantees, sharedObject = props.sharedObject, isDirty = props.isDirty, onCancel = props.onCancel, onSubmit = props.onSubmit, onGranteeDelete = props.onGranteeDelete, onAddGranteeButtonClick = props.onAddGranteeButtonClick, onLockChange = props.onLockChange, onUnderLenientControlChange = props.onUnderLenientControlChange;
    var owner = sharedObject.owner, isLeniencyControlSupported = sharedObject.isLeniencyControlSupported, isLockingSupported = sharedObject.isLockingSupported;
    var intl = useIntl();
    var granteeList = useMemo(function () {
        return __spread([owner], grantees);
    }, [grantees, owner, intl]);
    var dialogLabels = useMemo(function () {
        return {
            headline: intl.formatMessage({ id: "shareDialog.share.grantee.title" }),
            cancelButtonText: intl.formatMessage({ id: "cancel" }),
            submitButtonText: intl.formatMessage({ id: "save" }),
        };
    }, []);
    return (React.createElement(ConfirmDialogBase, { className: "gd-share-dialog s-gd-share-grantees", displayCloseButton: true, isPositive: true, isSubmitDisabled: !isDirty, headline: dialogLabels.headline, cancelButtonText: dialogLabels.cancelButtonText, submitButtonText: dialogLabels.submitButtonText, onCancel: onCancel, onSubmit: onSubmit },
        React.createElement(ShareGranteeContent, { isLoading: isLoading, grantees: granteeList, onAddGrantee: onAddGranteeButtonClick, onDelete: onGranteeDelete }),
        React.createElement(ContentDivider, null),
        React.createElement(SharedObjectUnderLenientControl, { isUnderLenientControl: isUnderLenientControlNow, isLeniencyControlSupported: isLeniencyControlSupported, onUnderLenientControlChange: onUnderLenientControlChange }),
        React.createElement(SharedObjectLockControl, { isLocked: isLockedNow, isLockingSupported: isLockingSupported, onLockChange: onLockChange })));
};
//# sourceMappingURL=ShareGranteeBase.js.map